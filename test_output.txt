============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-7.4.3, pluggy-1.6.0 -- C:\Users\the_8\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
django: version: 5.2.7, settings: scout_project.settings (from ini)
rootdir: C:\Users\the_8\IngSw-seccion1\backend
configfile: pytest.ini
plugins: anyio-4.9.0, Faker-30.3.0, cov-4.1.0, django-4.7.0, mock-3.14.0, xdist-3.6.1
collecting ... collected 4 items

Creating test database for alias 'default'...

backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_manual_creation_debug ERROR
backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_create_payment_with_file_and_voucher ERROR
backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_mass_payment_group ERROR
Destroying test database for alias 'default'...

backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_multi_person_payment ERROR

=================================== ERRORS ====================================
________ ERROR at setup of TestPagosBackend.test_manual_creation_debug ________
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   sqlite3.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac

The above exception was the direct cause of the following exception:
backend\pagos\tests\test_manual_pagos.py:33: in setup_method
    self.persona = Persona.objects.create(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:663: in create
    obj.save(force_insert=True, using=self.db)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:902: in save
    self.save_base(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1008: in save_base
    updated = self._save_table(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1169: in _save_table
    results = self._do_insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1210: in _do_insert
    return manager._insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:1868: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:79: in execute
    return self._execute_with_wrappers(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:100: in _execute
    with self.db.wrap_database_errors:
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   django.db.utils.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac
_ ERROR at setup of TestPagosBackend.test_create_payment_with_file_and_voucher _
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   sqlite3.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac

The above exception was the direct cause of the following exception:
backend\pagos\tests\test_manual_pagos.py:33: in setup_method
    self.persona = Persona.objects.create(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:663: in create
    obj.save(force_insert=True, using=self.db)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:902: in save
    self.save_base(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1008: in save_base
    updated = self._save_table(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1169: in _save_table
    results = self._do_insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1210: in _do_insert
    return manager._insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:1868: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:79: in execute
    return self._execute_with_wrappers(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:100: in _execute
    with self.db.wrap_database_errors:
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   django.db.utils.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac
_________ ERROR at setup of TestPagosBackend.test_mass_payment_group __________
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   sqlite3.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac

The above exception was the direct cause of the following exception:
backend\pagos\tests\test_manual_pagos.py:33: in setup_method
    self.persona = Persona.objects.create(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:663: in create
    obj.save(force_insert=True, using=self.db)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:902: in save
    self.save_base(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1008: in save_base
    updated = self._save_table(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1169: in _save_table
    results = self._do_insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1210: in _do_insert
    return manager._insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:1868: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:79: in execute
    return self._execute_with_wrappers(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:100: in _execute
    with self.db.wrap_database_errors:
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   django.db.utils.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac
________ ERROR at setup of TestPagosBackend.test_multi_person_payment _________
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   sqlite3.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac

The above exception was the direct cause of the following exception:
backend\pagos\tests\test_manual_pagos.py:33: in setup_method
    self.persona = Persona.objects.create(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:663: in create
    obj.save(force_insert=True, using=self.db)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:902: in save
    self.save_base(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1008: in save_base
    updated = self._save_table(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1169: in _save_table
    results = self._do_insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\base.py:1210: in _do_insert
    return manager._insert(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\query.py:1868: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\models\sql\compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:79: in execute
    return self._execute_with_wrappers(
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:100: in _execute
    with self.db.wrap_database_errors:
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\utils.py:105: in _execute
    return self.cursor.execute(sql, params)
..\AppData\Local\Programs\Python\Python313\Lib\site-packages\django\db\backends\sqlite3\base.py:360: in execute
    return super().execute(query, params)
E   django.db.utils.IntegrityError: NOT NULL constraint failed: persona.per_fecha_nac
=========================== short test summary info ===========================
ERROR backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_manual_creation_debug
ERROR backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_create_payment_with_file_and_voucher
ERROR backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_mass_payment_group
ERROR backend\pagos\tests\test_manual_pagos.py::TestPagosBackend::test_multi_person_payment
======================== 1 warning, 4 errors in 8.26s =========================
